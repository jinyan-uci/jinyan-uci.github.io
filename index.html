<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jin Yan — Research & Teaching</title>
  <meta name="description" content="Jin Yan · Physics PhD · Nanophotonics, optics, machine learning. Personal website." />
  <meta name="color-scheme" content="light dark" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='%23008cff'/%3E%3Ctext x='50' y='58' text-anchor='middle' font-size='54' font-family='system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif' fill='white'%3EJ%3C/text%3E%3C/svg%3E" />
  <style>
    /* ========= THEME TOKENS ========= */
    :root{
      --bg:#ffffff; --text:#101315; --muted:#6b7280; --card:#f7fafc; --border:#e5e7eb;
      --accent:#0ea5e9; --accent-2:#7c3aed; --radius:18px; --shadow:0 10px 30px rgba(0,0,0,.08);
      --max:1100px;

      /* 玻璃 + 英雄区背景/遮罩 */
      --glass-bg: color-mix(in oklab, var(--bg) 65%, transparent);
      --glass-brd: color-mix(in oklab, #fff 55%, transparent);
      --hero-overlay: linear-gradient(180deg, color-mix(in oklab,#fff 88%,transparent) 0%, color-mix(in oklab,#fff 60%,transparent) 60%, transparent 100%);
      --hero-bg:
        radial-gradient(120% 100% at 70% 0%, color-mix(in oklab,#60a5fa 12%, transparent) 0%, transparent 60%) ,
        radial-gradient(120% 120% at 10% 10%, color-mix(in oklab,#22d3ee 10%, transparent) 0%, transparent 55%) ,
        linear-gradient(180deg, color-mix(in oklab,#dbeafe 18%, #fff 70%) 0%, #fff 100%);

      /* Scroll-reveal 参数 */
      --reveal-distance: 25px;
      --reveal-duration: 1s; /* 稍微更长 */
    }
    [data-theme="dark"]{
      --bg:#0b0f14; --text:#e7ebf0; --muted:#9aa4b2; --card:#0f1520; --border:#1f2a37;
      --accent:#38bdf8; --accent-2:#a78bfa; --shadow:0 12px 34px rgba(0,0,0,.35);
      --glass-bg: color-mix(in oklab, #0b0f14 35%, transparent);
      --glass-brd: color-mix(in oklab, #a6b0bb 25%, transparent);
      --hero-overlay: linear-gradient(180deg, color-mix(in oklab,#000 62%,transparent) 0%, color-mix(in oklab,#000 46%,transparent) 60%, transparent 100%);
      --hero-bg:
        radial-gradient(120% 100% at 70% 0%, color-mix(in oklab,#0ea5e9 14%, transparent) 0%, transparent 60%) ,
        radial-gradient(120% 120% at 10% 10%, color-mix(in oklab,#7c3aed 14%, transparent) 0%, transparent 55%) ,
        linear-gradient(180deg, #0c1117 0%, #0b0f14 100%);
    }

    /* ========= BASE ========= */
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      text-rendering:optimizeLegibility;
    }
    .wrap{max-width:var(--max); margin-inline:auto; padding:24px}
    a{color:inherit}

    /* ========= LIQUID-GLASS HEADER ========= */
    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter:saturate(160%) blur(14px);
      background:var(--glass-bg);
      border-bottom:1px solid var(--glass-brd);
    }
    header::after{
      content:""; position:absolute; inset:0 -40vw 0 -40vw; pointer-events:none;
      background:linear-gradient(95deg, transparent 25%, color-mix(in oklab,#fff 28%, transparent) 45%, transparent 65%);
      mix-blend-mode:overlay; opacity:.08; transform:translateX(-20vw);
      animation:sheen 16s linear infinite;
    }
    @keyframes sheen{to{transform:translateX(20vw)}}
    @media (prefers-reduced-motion: reduce){ header::after{animation:none; opacity:.06} }

    .nav{display:flex; align-items:center; justify-content:space-between; gap:16px}
    .brand{font-weight:800; letter-spacing:.3px}
    nav a{color:var(--muted); text-decoration:none; margin:0 10px}
    nav a:hover, nav a:focus-visible{color:var(--text)}
    .btn{display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px;
      border:1px solid var(--border); background:var(--card); color:var(--text); text-decoration:none; box-shadow:var(--shadow)}
    .btn:hover{border-color:var(--accent)}

    /* ========= HERO ========= */
    .hero{
      position:relative; overflow:hidden;
      background: var(--hero-bg);
      padding: clamp(54px, 8vh, 80px) 0 36px;
      min-height:min(70vh,680px);
      isolation:isolate;
    }
    .hero::before{ content:""; position:absolute; inset:0; pointer-events:none; z-index:0; background: var(--hero-overlay); }
    .hero .inner{position:relative; z-index:1}
    .hero h1{
      font-size:clamp(34px,6vw,56px); line-height:1.08; margin:0 0 10px; text-wrap:balance;
      filter: drop-shadow(0 1px 12px rgba(0,0,0,.08));
    }
    .gradient{ background:linear-gradient(90deg,var(--accent),var(--accent-2)); -webkit-background-clip:text; background-clip:text; color:transparent }
    .lead{color:var(--muted); font-size:clamp(16px,2.6vw,19px); max-width:70ch}
    .cta{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
    .btn.primary{
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#fff; border:0; box-shadow:0 8px 22px color-mix(in oklab,var(--accent) 30%, transparent);
    }
    .btn.ghost{background:transparent; border-color:var(--border)}

    /* ========= GRID / CARDS ========= */
    section{padding:28px 0}
    h2{font-size:24px; margin:0 0 14px}
    .grid{display:grid; gap:16px; grid-template-columns:repeat(12,1fr)}
    .card{grid-column:span 12; border:1px solid var(--border); border-radius:var(--radius); background:var(--card); padding:18px; box-shadow:var(--shadow)}
    .muted{color:var(--muted)}
    @media(min-width:720px){ .card.third{grid-column:span 4} .card.half{grid-column:span 6} }
    .linkcard{display:block; text-decoration:none; color:inherit}
    .linkcard h3{margin:0 0 6px}
    footer{border-top:1px solid var(--border); padding:24px 0 80px; color:var(--muted)}

    /* ========= GLOBAL SCROLL REVEAL ========= */
    [data-reveal]{
      opacity:0;
      transform: translateY(var(--reveal-distance)) scale(.985);
      transition:
        opacity var(--reveal-duration) cubic-bezier(.2,.7,.2,1),
        transform var(--reveal-duration) cubic-bezier(.2,.7,.2,1);
      will-change: opacity, transform;
    }
    [data-reveal].show{
      opacity:1; transform:none;
    }
    /* 支持行内设延时：style="--delay:120ms" 或 JS 设置 --d */
    [data-reveal]{ transition-delay: var(--delay, var(--d, 0ms)); }

    @media (prefers-reduced-motion: reduce){
      [data-reveal]{opacity:1; transform:none; transition:none}
      header::after{animation:none}
    }

    .spacer{height:8px}
    .right{display:flex; align-items:center; gap:10px}
    .icon{width:18px; height:18px}
  </style>
</head>
<body>
  <a href="#home" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;">Skip to content</a>

  <header>
    <div class="wrap nav">
      <div class="brand">Jin Yan</div>
      <div class="right">
        <nav aria-label="Primary">
          <a href="/research/">Research</a>
          <a href="/publications/">Publications</a>
          <a href="/projects/">Projects</a>
          <a href="/teaching/">Teaching</a>
          <a href="/contact/">Contact</a>
        </nav>
        <button id="theme" class="btn" title="Toggle theme" aria-label="Toggle theme">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M12 3a9 9 0 109 9 7.5 7.5 0 01-9-9z"/></svg>
          Theme
        </button>
      </div>
    </div>
  </header>

  <main id="home">
    <!-- HERO -->
    <section class="hero">
      <div class="wrap inner">
        <h1>Hi, I’m <span class="gradient">Jin Yan</span>.</h1>
        <p class="lead">Physics PhD @ UCI · Lee Nano-Optics Lab. I work on <strong>nanophotonics</strong>, meta-optics (meta-optical fibers, ENZ metasurfaces), and nonlinear optics (THG/SHG). I like building clean experiments and clean code.</p>
        <div class="spacer"></div>
        <div class="cta">
          <a class="btn primary" href="/contact/">Get in touch</a>
          <a class="btn ghost" href="/publications/">View publications</a>
        </div>
      </div>
    </section>

    <!-- QUICK LINKS -->
    <section aria-label="Quick links">
      <div class="wrap">
        <h2>Explore</h2>
        <div class="grid">
          <a class="card third linkcard" href="/research/">
            <h3>Research</h3>
            <p class="muted">Meta-optical fibers · ENZ metasurfaces · Nonlinear optics.</p>
          </a>
          <a class="card third linkcard" href="/publications/">
            <h3>Publications</h3>
            <p class="muted">Papers, preprints, and datasets.</p>
          </a>
          <a class="card third linkcard" href="/projects/">
            <h3>Projects</h3>
            <p class="muted">Code & notes: THG/SHG toolkits, meta-fiber prototypes.</p>
          </a>
        </div>
        <div class="grid" style="margin-top:8px">
          <a class="card half linkcard" href="/teaching/">
            <h3>Teaching</h3>
            <p class="muted">TA @ UCI — problem-solving, tidy plots, reproducible analysis.</p>
          </a>
          <a class="card half linkcard" href="/contact/">
            <h3>Contact</h3>
            <p class="muted">Email, GitHub, (add CV / Scholar).</p>
          </a>
        </div>
      </div>
    </section>

    <footer class="wrap">
      <p class="muted">© <span id="y"></span> Jin Yan. Built from scratch with vanilla HTML/CSS/JS. Hosted on GitHub Pages.</p>
    </footer>
  </main>

  <script>
    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Theme toggle with localStorage
    const root = document.documentElement;
    const saved = localStorage.getItem('theme');
    const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (saved) root.setAttribute('data-theme', saved);
    else if (preferDark) root.setAttribute('data-theme', 'dark');
    document.getElementById('theme').addEventListener('click', () => {
      const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
    });

    // ===== Global Scroll Reveal =====
    (function(){
      const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
      const main = document.querySelector('main');

      // 1) 给 main 下所有元素添加 data-reveal（排除脚本/样式）
      const all = main.querySelectorAll('*:not(script):not(style)');
      all.forEach(el => el.setAttribute('data-reveal',''));

      // 2) 为常见的“兄弟列表”添加交错延时
      const staggerParents = main.querySelectorAll('.grid, .cta, ul, ol, .list');
      staggerParents.forEach(parent => {
        Array.from(parent.children).forEach((child, i) => {
          child.style.setProperty('--d', `${Math.min(6, i)*90}ms`); // 0,90,180,... 上限 6*90
        });
      });

      // 3) 观察并触发显示
      const els = main.querySelectorAll('[data-reveal]');
      if (reduce){ els.forEach(el => el.classList.add('show')); return; }

      const io = new IntersectionObserver((entries)=>{
        for (const e of entries){
          if (e.isIntersecting){
            e.target.classList.add('show');
            io.unobserve(e.target);
          }
        }
      }, {threshold: 0.14, rootMargin: '0px 0px -8% 0px'});

      els.forEach(el => io.observe(el));
    })();

    // Header subtle shadow on scroll
    (function(){
      const header = document.querySelector('header');
      const onScroll = () => {
        header.style.boxShadow = (window.scrollY||0) > 6 ? '0 6px 18px rgba(0,0,0,.08)' : 'none';
      };
      onScroll(); addEventListener('scroll', onScroll, {passive:true});
    })();
  </script>
</body>
</html>
